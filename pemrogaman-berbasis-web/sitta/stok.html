<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Informasi Bahan Ajar</title>
    <link rel="stylesheet" href="./css/style.css">
    <style>
        main {
            display: flex;
            flex-direction: column;
            gap: 40px;
            margin: 50px auto;
            max-width: 1024px;
        }

        #data {
            display: grid;
            grid-template-columns: auto auto auto;
            gap: 40px;
        }

        .data {
            display: flex;
            flex-direction: column;
            padding: 10px 20px;
            gap: 20px;
            border: 1px solid var(--secondary);
						box-shadow: 6px 6px var(--secondary);
            background-color: var(--white);
						max-width: 280px;
        }

				.data .remove {
					aspect-ratio: 1;
					align-self: end;
					background-color: #f44336;
				}

				.data .remove:hover {
					scale: 1.1
				}


        .data p {
            font-size: 14px;
        }

        .data img {
            width: 100%;
            align-self: center;
        }
				
				.data .data-detail {
					display: flex;
					flex-direction: column;
					gap: 8px;
				}

        @media screen and (max-width: 768px) {
            main {
                padding: 10px;
            }
            
            #data {
                grid-template-columns: auto;
            }

            .data img {
                width: 100%;
            }
        }

        .form {
            display: flex;
            flex-direction: column;
            gap: 10px;
            padding: 20px;
            border: 1px solid black;
            background-color: var(--white);
        }
				.form .cover {
					width: 400px;
					height: 500px;
					background-size: cover;
				}
    </style>
		<script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>
<body>
	<nav>
			<ul>
					<li><a href="./dashboard.html">Dashboard</a></li>
					<li><a href="./stok.html" class="active">Informasi Bahan Ajar</a></li>
					<li><a href="./tracking.html">Tracking Pengiriman</a></li>
					<li>
							<a>Laporan</a>
							<ul>
									<li><a href="#">Monitoring Progress DO Bahan Ajar</a></li>
									<li><a href="#">Rekap Bahan Ajar</a></li>
							</ul>
					</li>
					<li><a href="#">Histori Transaksi Bahan Ajar</a></li>
					<span id="time">{{time}}</span>
					<li><a id="logout" @click="logout">Logout</a></li>
			</ul>
	</nav>
	<div id="app">
    <main>
        <button type="button" @click="()=> handleModalForm(true)">Tambah</button>
				<section id="data">
					<div v-for="v in bahanAjar" class="data" v-if="bahanAjar.length">
						<button class="remove" @click="()=> handleRemove(v)">
							X
						</button>
						<img :src="v.cover" alt="Photo">
						<div class="data-detail">
							<p>Kode Lokasi</p>
							<input type="text" name="kodeLokasi" :value="v.kodeLokasi" disabled>
							<p>Kode Barang</p>
							<input type="text" name="kodeBarang" :value="v.kodeBarang" disabled>
							<p>Nama Barang</p>
							<input type="text" name="namaBarang" :value="v.namaBarang" disabled>
							<p>Jenis Barang</p>
							<input type="text" name="jenisBarang" :value="v.jenisBarang" disabled>
							<p>Edisi</p>
							<input type="text" name="edisi" :value="v.edisi" disabled>
							<p>Stok</p>
							<input type="text" name="stok" :value="v.stok" disabled>
						</div>
					</div>
				</section>
    </main>

    <dialog :open="modalForm" @click="(e)=> handleModalForm(false, e)">
        <form class="form">
            <h1>Tambah Data</h1>
            <input type="text" v-model="form.kodeLokasi" placeholder="Kode Lokasi" class="input" required>
            <input type="text" v-model="form.kodeBarang" placeholder="Kode Barang" class="input" required>
            <input type="text" v-model="form.namaBarang" placeholder="Nama Barang" class="input" required>
            <input type="text" v-model="form.jenisBarang" placeholder="Jenis Barang" class="input" required>
            <input type="text" v-model="form.edisi" placeholder="Edisi" class="input" required>
            <input type="number" v-model="form.stok" placeholder="Stok" class="input" required>
            <input type="file" class="input" accept="image/*" required @change="handleChangeFile">
						<img :src="form.cover" v-show="form.cover" class="cover" />
						<span v-text="form.validation" class="validation-error"></span>
            <button @click.prevent="handleSaveData">Kirim</button>
        </form>
    </dialog>
	</div>
	<script src="./js/script.js"></script>
	<script src="./js/stok-app.js" type="module"></script>
</body>
</html>